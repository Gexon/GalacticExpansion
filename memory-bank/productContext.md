# Product Context — GalacticExpansion (GLEX)

## Что такое GalacticExpansion?

**GalacticExpansion (GLEX)** — server-side DLL мод для игры Empyrion: Galactic Survival (v1.15 Experimental), который превращает статичные POI фракции Zirax в живую, динамически развивающуюся цивилизацию.

## Проблема, которую решает проект

**Текущая ситуация в Empyrion:**
- POI Zirax — статичные структуры, которые просто стоят на месте
- Нет ощущения "живого мира" — противники не развиваются
- После уничтожения базы Zirax ничего не происходит
- Игроку не с чем бороться после зачистки планеты

**Что предлагает GLEX:**
- Zirax строят базы по стадиям (от посадочной площадки до развитого комплекса)
- Видимая логистика — AI-корабли доставляют ресурсы
- Добыча ресурсов — аванпосты появляются на планете
- Реакция на игрока — усиление обороны при разрушениях
- Конечность юнитов — ограниченные резервы, производство с течением времени
- Стратегическое ослабление — разрушение аванпостов снижает производство
- Система "Most Wanted" — целевая охота на наиболее враждебного игрока
- Экспансия на новые планеты при достижении максимального развития

## Целевая аудитория

### Основные пользователи

1. **Администраторы dedicated серверов**
   - Хотят динамичный PvE контент
   - Настраивают баланс через конфигурацию
   - Мониторят работу мода через логи

2. **Игроки PvE-серверов**
   - Хотят вызов от AI-противников
   - Видят результат своих действий (откат стадий, усиление)
   - Не требуют установки client-side модификаций

3. **Создатели кастомных сценариев**
   - Используют GLEX как основу для своих сценариев
   - Кастомизируют через конфиг и префабы

## Как это должно работать

### Основной workflow

```
1. Сервер запускается → GLEX инициализируется
2. На "материнской" планете (Akua) создается первая колония
3. Спавнится логистический корабль → доставляет "груз" → исчезает
4. Появляется стройплощадка (ConstructionYard)
5. С течением времени база развивается: L1 → L2 → L3 → Max
6. Появляются ресурсные аванпосты
7. При входе игрока активируются патрули и защита
8. При разрушениях — откат стадии и усиление обороны
9. При достижении Max — экспансия на новую планету
```

### Пользовательский опыт

**Для игрока:**
- Заходит на планету → видит активность (корабли, постройки, патрули)
- Атакует базу → Zirax усиливают оборону
- Уничтожает структуру → база откатывается на стадию назад
- Убивает 10+ охранников → база истощает резервы, не может спавнить новых 30+ минут
- Разрушает аванпосты → производство юнитов колонии падает на 25-75%
- Набирает враждебность → колония отправляет охотничьи отряды против него
- Возвращается через время → база восстановлена и усилена

**Для администратора:**
- Устанавливает мод → работает "из коробки"
- Настраивает баланс через простой JSON конфиг
- Мониторит через структурированные логи
- При проблемах — автоматическое восстановление из бэкапов

## Уникальные возможности

1. **Полностью server-side:** Игроки не устанавливают ничего на клиенте
2. **Симуляция без игроков:** Колонии развиваются, даже когда никого нет на планете
3. **Визуально заметная активность:** Логистические корабли, строительство, патрули
4. **Интеллектуальная реакция:** AI адаптируется к действиям игроков
5. **Конечность ресурсов:** Юниты не бесконечны, производство требует времени
6. **Стратегическая глубина:** Разрушение инфраструктуры реально ослабляет колонию
7. **Система мести:** Целевая охота на наиболее враждебных игроков
8. **Конфигурируемость:** Все параметры настраиваются без изменения кода

## Ограничения и компромиссы

**Технические ограничения ModAPI:**
- Нет прямого управления AI-патрулированием (используется AIM)
- Нет точного определения высоты поверхности (эвристики)
- Нельзя получить список ресурсных депозитов (симуляция)

**Дизайнерские решения:**
- Логистические корабли "имитируют" полет (появляются → исчезают)
- Ресурсы виртуальные (не реальные депозиты)
- Переход стадий — замена префабов (destroy + spawn)

## Success Metrics

**Для MVP:**
- Мод работает стабильно > 24 часов без крашей
- CPU usage < 5% при 20 игроках
- Игроки видят активность Zirax при входе на планету
- Разрушения вызывают видимые реакции

**Для Post-MVP:**
- Экспансия на 3+ планеты работает корректно
- Сообщество создает кастомные префабы
- Администраторы положительно оценивают простоту настройки

## Будущее развитие

**Возможные расширения:**
- Дипломатия (перемирия, альянсы)
- Торговля (игроки могут торговать с Zirax)
- Разные типы колоний (военные, научные, промышленные)
- Интеграция с другими модами (EWA, Reforged Eden)
