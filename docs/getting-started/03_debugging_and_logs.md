# Отладка и логи (GLEX)

**Назначение**: быстрый трейс “что пошло не так” при загрузке/работе мода.  
**Аудитория**: разработчики.  
**Статус**: draft.  
**Связанные документы**: [`02_build_and_run.md`](02_build_and_run.md), [`../ops/Troubleshooting.md`](../ops/Troubleshooting.md).  

## Где проверять, что мод загрузился

Базовый способ — открыть свежий `Dedicated_*.log` в папке логов сервера и найти строки, что мод был загружен.

Типичный пример фрагмента из логов сообщества (обобщённо):

- `Loaded mod ModX from <FolderName>`

## Типовые ошибки при старте

### `Error on executing Game_Event ...` + исключение

Чаще всего это означает:

- ошибка в обработчике `Game_Event` (неверное приведение типа `data`, отсутствие null-check),
- ожидали один `CmdId`, а реально пришёл другой,
- перепутали `seqNr` при сопоставлении ответа на request.

### “Конфиг не найден”

В экосистеме Empyrion модов распространён паттерн:

- `ModAppConfig.json` лежит рядом с DLL,
- основной конфиг/БД лежит в `Saves/Games/<SaveGame>/Mods/<ModName>/...` и создаётся при первом старте.

Для GLEX этот паттерн будет зафиксирован в `docs/config/ConfigReference.md`.

## Как логировать в коде (принцип)

До появления кода фиксируем правила на уровне документации:

- логировать “важные решения” (создали колонию, сменили стадию, заспавнили сущность, запланировали AIM),
- логировать “почему отказались” (лимит, rate limit, небезопасная команда, нет игроков на playfield),
- логировать “корреляцию” requests/events: `seqNr`, `CmdId`, краткий итог результата.

Это нужно, чтобы потом было проще собирать `Troubleshooting.md` и подтверждать корректность симуляции.
