# Threat Director (GLEX)

**Назначение**: правила “давления” на игроков: патрули, волны, усиления при разрушениях.  
**Аудитория**: разработчики.  
**Статус**: draft.  
**Связанные документы**: [`../architecture/06_security_model.md`](../architecture/06_security_model.md), [`../config/ConfigReference.md`](../config/ConfigReference.md).  

## Триггеры угроз

Из черновика требований:

- присутствие игрока на планете → должна появляться угроза около точек интереса;
- действия игроков (разрушения) → реакция: усиление, откат стадии, повторное строительство.

## AIM как исполнитель

Плановый механизм запуска угроз:

- `aim aga ...` — охрана области
- `aim tdw <PlBaseId>` — волна на базу игрока
- `aim adb ...` — “усиление обороны” через дронбазу (если применимо)

Важно: все команды идут через `AimOrchestrator` (whitelist + rate limit).

## Лимиты

Угрозы ограничиваются конфигом:

- `MaxDroneWavesPerHour`
- `MaxAIMCommandsPerMinute`

## Политика “мягкой деградации”

Если входные события “сыпятся” (массовые разрушения/частые смены playfield):

- ThreatDirector уменьшает частоту действий;
- лишние угрозы отбрасываются или откладываются;
- в логах явно видно, что сработали лимиты.
